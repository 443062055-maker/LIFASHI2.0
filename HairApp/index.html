<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”·å£«å‘å‹æ²Ÿé€šåŠ©æ‰‹</title>
    <!-- å¼•å…¥ Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- è®¾ç½®é»˜è®¤å­—ä½“ä¸º Inter --><style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        /* é’ˆå¯¹ç§»åŠ¨è®¾å¤‡çš„å®šåˆ¶æ»šåŠ¨æ¡æ ·å¼ (å¦‚æœéœ€è¦) */
        ::-webkit-scrollbar {
            width: 4px;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
        .face-shape-btn.selected {
            @apply bg-indigo-500 text-white border-indigo-500 shadow-indigo-300;
        }
        .length-select.selected {
            @apply ring-2 ring-yellow-500 border-yellow-500;
        }
        .style-card {
            /* é»˜è®¤çŠ¶æ€ */
            @apply bg-white border-2 border-gray-200 shadow-sm transition duration-200 cursor-pointer;
        }
        .style-card.selected {
            /* é€‰ä¸­çŠ¶æ€ */
            @apply ring-4 ring-offset-2 ring-pink-500 border-pink-500 shadow-lg scale-[1.02];
        }
    </style>
</head>
<body class="min-h-screen antialiased">

    <!-- ä¸»å®¹å™¨ --><div class="max-w-3xl mx-auto p-4 sm:p-6 bg-white shadow-xl rounded-xl mt-4 mb-8">
        <header class="text-center mb-6">
            <h1 class="text-3xl font-extrabold text-gray-800">âœ‚ï¸ ç”·å£«å‘å‹æ²Ÿé€šåŠ©æ‰‹</h1>
            <p class="text-gray-500 mt-2">ä¸“ä¸ºä¸å–„è¨€è¾çš„ä½ è®¾è®¡ï¼Œä¸€é”®ç”Ÿæˆæ¸…æ™°æŒ‡ä»¤ã€‚</p>
            <p class="text-sm font-bold text-red-500 mt-2">ï¼ˆç—›ç‚¹ï¼šå¾ˆå¤šç”·ç”Ÿå»ç†å‘çš„æ—¶å€™å¹¶ä¸çŸ¥é“è¯¥æ€ä¹ˆä¸ç†å‘å¸ˆæ²Ÿé€šåº”è¯¥æ€ä¹ˆå‰ªï¼‰</p>
        </header>

        <!-- æ­¥éª¤ 1: é€‰æ‹©è„¸å‹ --><section id="step-face-shape" class="mb-8 p-4 bg-indigo-50 rounded-lg">
            <h2 class="text-xl font-bold text-indigo-800 mb-3">æ­¥éª¤ä¸€ï¼šç¡®å®šè„¸å‹</h2>
            <div id="face-shape-selection" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3">
                <!-- è„¸å‹é€‰é¡¹å°†ç”± JS åŠ¨æ€ç”Ÿæˆ --></div>
        </section>

        <!-- è„¸å‹åˆ†æåŠå‘å‹é€‰æ‹©åŒºåŸŸ --><section id="hair-analysis-section" class="mb-8 hidden">
            <h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2">æ­¥éª¤äºŒï¼šæŸ¥çœ‹åˆ†æä¸ç›®æ ‡å‘å‹</h2>
            
            <!-- è„¸å‹åˆ†æå¡ç‰‡ (æ˜¾ç¤ºæ–‡æ¡ˆ) --><div id="face-analysis-card" class="bg-white p-5 rounded-xl shadow-lg border border-gray-200 transition-all duration-300">
                <h3 id="analysis-title" class="text-2xl font-bold text-pink-600 mb-3"></h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <!-- å·¦ä¾§ï¼šç‰¹å¾ä¸ä¼˜ç¼ºç‚¹ --><div class="space-y-2">
                        <p class="font-semibold text-gray-700">ç‰¹å¾ï¼š<span id="analysis-features" class="font-normal text-gray-600"></span></p>
                        <p class="font-semibold text-gray-700">ä¼˜ç‚¹ï¼š<span id="analysis-pros" class="font-normal text-green-600"></span></p>
                        <p class="font-semibold text-gray-700">ç¼ºç‚¹ï¼š<span id="analysis-cons" class="font-normal text-red-600"></span></p>
                    </div>
                    <!-- å³ä¾§ï¼šå‘å‹æ€è·¯ä¸é¿é›· --><div class="space-y-2">
                        <p class="font-semibold text-gray-700">å‘å‹æ€è·¯ï¼š<span id="analysis-concept" class="font-normal text-indigo-600"></span></p>
                        <p class="font-semibold text-gray-700">å»ºè®®å‘å‹ï¼š<span id="analysis-advice" class="font-normal text-gray-600"></span></p>
                        <p class="font-semibold text-gray-700">é¿é›·å‘å‹ï¼š<span id="analysis-avoid" class="font-normal text-gray-600"></span></p>
                    </div>
                </div>

                <div class="mt-6 pt-4 border-t border-gray-100">
                    <h4 class="font-bold text-lg mb-4 text-gray-800">è¯¥è„¸å‹æ¨èå‘å‹ä¸€è§ˆï¼ˆç‚¹å‡»å›¾ç‰‡é€‰æ‹©ï¼‰</h4>
                    
                    <!-- ç›®æ ‡å‘å‹å›¾ç‰‡åˆ—è¡¨å®¹å™¨ --><div id="style-cards-container" class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                        <!-- å‘å‹å¡ç‰‡å°†ç”± JS åŠ¨æ€ç”Ÿæˆ -->
                        <div class="col-span-full text-center text-gray-500 p-4" id="style-placeholder">è¯·å…ˆé€‰æ‹©ä¸€ä¸ªè„¸å‹...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- æ­¥éª¤ 3 & 4: é•¿åº¦é€‰æ‹©ä¸ç”Ÿé•¿å‘¨æœŸè®¡ç®— --><section id="length-calculation-section" class="mb-8 hidden p-4 bg-yellow-50 rounded-lg">
            <h2 class="text-xl font-bold text-yellow-700 mb-3">æ­¥éª¤ä¸‰ï¼šæµ‹é‡å½“å‰å¤´å‘å„éƒ¨ä½é•¿åº¦</h2>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4">
                <div>
                    <label for="current-length-top" class="block text-sm font-medium text-gray-700 mb-1">é¡¶éƒ¨é•¿åº¦</label>
                    <select id="current-length-top" class="length-select w-full p-3 border border-gray-300 rounded-lg focus:ring-yellow-500 focus:border-yellow-500 transition duration-150" onchange="calculateGrowthTime()">
                        <option value="">è¯·é€‰æ‹©</option>
                    </select>
                </div>
                <div>
                    <label for="current-length-fringe" class="block text-sm font-medium text-gray-700 mb-1">åˆ˜æµ·é•¿åº¦</label>
                    <select id="current-length-fringe" class="length-select w-full p-3 border border-gray-300 rounded-lg focus:ring-yellow-500 focus:border-yellow-500 transition duration-150" onchange="calculateGrowthTime()">
                        <option value="">è¯·é€‰æ‹©</option>
                    </select>
                </div>
                <div>
                    <label for="current-length-side" class="block text-sm font-medium text-gray-700 mb-1">ä¾§é¢é•¿åº¦</label>
                    <select id="current-length-side" class="length-select w-full p-3 border border-gray-300 rounded-lg focus:ring-yellow-500 focus:border-yellow-500 transition duration-150" onchange="calculateGrowthTime()">
                        <option value="">è¯·é€‰æ‹©</option>
                    </select>
                </div>
            </div>

            <!-- ç”Ÿé•¿å‘¨æœŸç»“æœå¡ç‰‡ --><div id="growth-result-card" class="mt-4 p-4 bg-yellow-100 rounded-lg shadow hidden">
                <h4 class="text-lg font-bold text-yellow-800 mb-2">ç”Ÿé•¿å‘¨æœŸé¢„ä¼°ï¼š</h4>
                <p id="growth-time-display" class="text-2xl font-extrabold text-yellow-900"></p>
                <p class="text-sm text-yellow-700 mt-1">ï¼ˆåŸºäºæ¯æœˆå¹³å‡ç”Ÿé•¿ 1.5cm ä¼°ç®—ï¼Œä»…ä¾›å‚è€ƒï¼‰</p>
            </div>
        </section>

        <!-- æœ€ç»ˆè¾“å‡ºï¼šç»™ç†å‘å¸ˆçš„æ²Ÿé€šæ–‡æ¡ˆ --><section id="communication-output" class="hidden">
            <h2 class="text-xl font-bold text-emerald-700 mb-3 border-b pb-2">æœ€ç»ˆæ­¥éª¤ï¼šç»™ç†å‘å¸ˆçš„æ²Ÿé€šæŒ‡ä»¤</h2>
            <div class="bg-emerald-50 p-5 rounded-xl shadow-lg border border-emerald-300">
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-xl font-bold text-emerald-800">ğŸ’‡â€â™‚ï¸ æ²Ÿé€šå¡ç‰‡</h3>
                    <button onclick="copyToClipboard()" class="flex items-center space-x-1 text-sm text-white bg-emerald-500 hover:bg-emerald-600 py-1.5 px-3 rounded-full transition duration-150 shadow-md">
                        <svg id="copy-icon" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2h-2m-2 2l-4-4m0 0l-4 4m4-4v12" />
                        </svg>
                        <span id="copy-text">å¤åˆ¶æŒ‡ä»¤</span>
                    </button>
                </div>
                <textarea id="barber-script" rows="10" readonly class="w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-700 text-base leading-relaxed resize-none"></textarea>
            </div>
            
            <div id="copy-message" class="hidden mt-3 text-center text-sm font-semibold text-emerald-600">
                æŒ‡ä»¤å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼
            </div>
        </section>
    </div>

    <!-- JavaScript é€»è¾‘ -->
    <script>
        // --- æ ¸å¿ƒæ•°æ®ç»“æ„ (åŸºäºæ‚¨çš„æ–‡æ¡ˆå’Œæ–°å¢å‘å‹) ---

        /**
         * è„¸å‹æ•°æ®ï¼šåŒ…å«ç‰¹å¾ã€æ€è·¯ã€æ¨èå‘å‹ç­‰ã€‚
         * !!! é‡ç‚¹ï¼šå›¾ç‰‡è·¯å¾„å·²ä¿®æ”¹ä¸º assets/ æ–‡ä»¶å¤¹å‰ç¼€ !!!
         */
        const faceData = {
            'round': {
                name: 'åœ†è„¸',
                features: 'è„¸é•¿â‰ˆè„¸å®½ï¼Œè½¯ç»„ç»‡é¥±æ»¡',
                pros: 'æ˜¾å¹´è½», äº²å’ŒåŠ›å¼º',
                cons: 'è½®å»“æ„Ÿå¼±, ç¼ºä¹ç«‹ä½“åº¦',
                concept: 'é€šè¿‡åˆ¶é€ [è§†è§‰é¢…é¡¶]ï¼Œè§†è§‰æ‹‰é•¿è„¸å‹ï¼Œå¢åŠ é¢éƒ¨ç«‹ä½“æ„Ÿã€‚',
                advice: 'é€‚åˆå‰åˆº/æŠ“åˆº/ä¾§èƒŒç­‰é«˜é¢…é¡¶ã€å…¨éœ²æˆ–åŠéœ²é¢å¤´çš„ä¸­çŸ­å‘ã€‚',
                avoid: 'é½åˆ˜æµ·/é”…ç›–å¤´(å¼ºåŒ–åœ†æ¶¦æ„Ÿ)ã€å°å·å‘(è†¨èƒ€æ˜¾è„¸å¤§)ã€‚',
                styles: ['åŸºç¡€å‰åˆº', 'å¾®åˆ†å‰åˆº', 'çº¹ç†ä¾§èƒŒ', 'éŸ©å¼å°å¹³å¤´', 'ç«‹ä½“å‰åˆº'],
                img: 'assets/face_round.png' // <--- è·¯å¾„æ›´æ–°
            },
            'square': {
                name: 'æ–¹å½¢è„¸',
                features: 'é¢§éª¨/ä¸‹é¢Œè§’å®½åº¦æ¥è¿‘, æ£±è§’åˆ†æ˜',
                pros: 'é˜³åˆšæ°”è´¨çªå‡º',
                cons: 'æ˜¾ç¬¨é‡, ä¸å¤Ÿç²¾è‡´',
                concept: 'é€šè¿‡è“¬æ¾é¢…é¡¶ï¼Œè§†è§‰ä¸Šå¼±åŒ–ä¸‹é¢ï¼Œå¢å¼ºé¢éƒ¨æŸ”å’Œæ„Ÿ',
                advice: 'ç¾å¼å‰åˆº/ä¾§åˆ†åˆ˜æµ·ç­‰é«˜é¢…é¡¶ï¼Œå…¨éœ²æˆ–åŠéœ²é¢å¤´çš„ä¸­çŸ­å‘ã€‚',
                avoid: 'æ•´é½åšåˆ˜æµ·(å¼ºåŒ–æ–¹å—æ„Ÿ)ã€å¹³å¤´(æš´éœ²éª¨éª¼çº¿æ¡)ã€‚',
                styles: ['ä¸ƒæŠ“åˆº', 'çŸ­ä¸‰ä¸ƒä¾§èƒŒ', 'ç¾å¼å‰åˆº', 'é¾™é¡»èƒŒå¤´', 'çº¹ç†ä¸‰ä¸ƒ', 'ä¸‰ä¸ƒä¾§åˆ†'],
                img: 'assets/face_square.png' // <--- è·¯å¾„æ›´æ–°
            },
            'oval': {
                name: 'é¹…è›‹è„¸',
                features: 'è„¸é•¿å®½æ¯”â‰ˆ1.5ï¼š1, è½®å»“æµç•…',
                pros: 'é€‚é…åº¦æœ€é«˜çš„è„¸å‹',
                cons: 'æ˜“æ˜¾æ™®é€š, ç¼ºä¹è®°å¿†ç‚¹',
                concept: 'é€‰æ‹©[å¢å¼ºé€ å‹æ„Ÿ]çš„å‘å‹ï¼Œå¢åŠ ç‰¹è‰²æ„Ÿå’Œè¯†åˆ«åº¦ã€‚',
                advice: 'å¾®åˆ†ç¢ç›–/å¤å¤æ²¹å¤´ç­‰å¸‚é¢å¸¸è§å‘å‹éƒ½å¯å°è¯•ã€‚',
                avoid: 'å¦‚æœå‘é™…çº¿åé«˜ï¼Œä¸å»ºè®®å¤§èƒŒå¤´å’Œå¯¸å¤´ã€‚',
                styles: ['æ¸…çˆ½çŸ­ç¢ç›–', 'ä¾§åˆ†çŸ­å‘', 'ä¸‰ä¸ƒä¾§èƒŒ', 'å‡Œä¹±æŠ“åˆº', 'å¾®åˆ†ç¢ç›–', 'å¤å¤æ²¹å¤´'],
                img: 'assets/face_oval.png' // <--- è·¯å¾„æ›´æ–°
            },
            'heart': {
                name: 'å¿ƒå½¢è„¸',
                features: 'é¢å®½>é¢§å®½>é¢Œå®½',
                pros: 'è‡ªå¸¦ç²¾è‡´æ¼«ç”»æ„Ÿ',
                cons: 'ä¸‹å·´è¿‡å°–ç¨æ˜¾é˜´æŸ”',
                concept: 'é€šè¿‡ä¸¤ä¾§åˆ˜æµ·[ä¿®é¥°å®½é¢å¤´]ï¼Œå¢åŠ é¢éƒ¨è§†è§‰å¹³è¡¡ã€‚',
                advice: 'å¾®åˆ†å‰åˆº/å¾®åˆ†ç¢ç›–ç­‰ï¼ŒåŠéœ²é¢å¤´çš„ä¸­çŸ­å‘æˆ–ä¸­é•¿å‘ã€‚',
                avoid: 'è¿‡åº¦é®æŒ¡è„¸å‹çš„åšé‡å‘å‹(æµªè´¹å…ˆå¤©ä¼˜åŠ¿)ã€‚',
                styles: ['çŸ­å¾®åˆ†å‰åˆº', 'å‡Œä¹±å¾®åˆ†', 'å‰åˆºè€è™å¤´', 'é•¿å¾®åˆ†å‰åˆº', 'éŸ©å¼å¾®åˆ†', 'å¾®åˆ†ç¢ç›–'],
                img: 'assets/face_heart.png' // <--- è·¯å¾„æ›´æ–°
            },
            'long': {
                name: 'é•¿å½¢è„¸',
                features: 'è„¸é•¿>è„¸å®½1.5å€, ä¸­åº­/ä¸‹å·´åé•¿',
                pros: 'è‡ªå¸¦æˆç†Ÿç²¾è‹±æ„Ÿ',
                cons: 'æ˜“æ˜¾è€æ°”ä¸¥è‚ƒ',
                concept: 'é€šè¿‡[ä¾§åˆ†ç±»åˆ˜æµ·]é®æŒ¡é¢å¤´ï¼Œå‰Šå¼±çºµå‘æ„Ÿï¼Œæ¨ªå‘æ‹‰å®½é¢éƒ¨ã€‚',
                advice: 'å¾®åˆ†ç¢ç›–/çº¹ç†ä¾§åˆ†ç­‰ï¼ŒåŠéœ²æˆ–ä¸éœ²é¢å¤´çš„ä¸­çŸ­å‘æˆ–ä¸­é•¿å‘ã€‚',
                avoid: 'è´´å¤´çš®ç›´å‘/å¤§èƒŒå¤´(æ‹‰é•¿è„¸å‹)ã€è¶…çŸ­åˆ˜æµ·(æš´éœ²é¢å¤´)ã€‚',
                styles: ['æ‹¬å·åˆ˜æµ·', 'çº¹ç†ä¸‰ä¸ƒåˆ†', 'é•¿çº¹ç†åˆ˜æµ·', 'åŸºç¡€å‰åˆº', 'å››å…­å¾®åˆ†'],
                img: 'assets/face_long.png' // <--- è·¯å¾„æ›´æ–°
            },
            'diamond': { // è±å½¢è„¸
                name: 'è±å½¢è„¸',
                features: 'é¢§éª¨å®½, é¢å¤´å’Œä¸‹å·´è¾ƒçª„, æ£±è§’åˆ†æ˜',
                pros: 'è½®å»“æ„Ÿå¼º, é€ å‹æ„Ÿçªå‡º',
                cons: 'æ˜“æ˜¾åˆ»è–„, é¢§éª¨çªå‡º',
                concept: 'é€šè¿‡åˆ˜æµ·å’Œä¸¤ä¾§å‘å‹æŸ”åŒ–é¢§éª¨çº¿æ¡ï¼Œå¢åŠ é¢å¤´å®½åº¦ï¼Œå¹³è¡¡é¢éƒ¨æ¯”ä¾‹ã€‚',
                advice: 'ä¸­é•¿åˆ˜æµ·ï¼ˆå¦‚å…«å­—åˆ˜æµ·ï¼‰ã€ä¾§åˆ†ã€å¾®å·å‘å‹ï¼Œé¿å…ç´§è´´å¤´çš®çš„çŸ­å‘ã€‚',
                avoid: 'è¶…çŸ­åˆ˜æµ·ã€å¹³å¤´ã€ä¸¤ä¾§å‰ƒå…‰çš„çŸ­å‘ï¼ˆä¼šæ˜¾å¾—é¢§éª¨æ›´çªå‡ºï¼‰ã€‚',
                styles: ['ä¸­åˆ†å¾®å·', 'è“¬æ¾ç¢ç›–', 'ä¸¤è¾¹é“²é•¿åˆ˜æµ·', 'éŸ©å¼çº¹ç†çƒ«'],
                img: 'assets/face_diamond.png' // <--- è·¯å¾„æ›´æ–°
            }
        };

        /**
         * ç›®æ ‡å‘å‹æ‰€éœ€çš„å¤§è‡´å¤´å‘é•¿åº¦ï¼ˆå˜ç±³ï¼‰
         */
        const styleLengthMap = {
            // åœ†è„¸ (æ–°å¢/æ›´æ–°)
            'åŸºç¡€å‰åˆº': {top: 5.5, fringe: 4.5, side: 1.5}, 
            'å¾®åˆ†å‰åˆº': {top: 4, fringe: 3, side: 1},
            'çº¹ç†ä¾§èƒŒ': {top: 6, fringe: 5, side: 2},
            'éŸ©å¼å°å¹³å¤´': {top: 3, fringe: 2, side: 0.5},
            'ç«‹ä½“å‰åˆº': {top: 5, fringe: 4, side: 1},
            
            // æ–¹å½¢è„¸ (æ–°å¢/æ›´æ–°)
            'ä¸ƒæŠ“åˆº': {top: 6, fringe: 5, side: 1.5},
            'çŸ­ä¸‰ä¸ƒä¾§èƒŒ': {top: 5, fringe: 4, side: 1}, 
            'ä¸‰ä¸ƒä¾§èƒŒ': {top: 7, fringe: 6, side: 2}, 
            'ç¾å¼å‰åˆº': {top: 4, fringe: 3, side: 1},
            'é¾™é¡»èƒŒå¤´': {top: 7, fringe: 6, side: 2},
            'çº¹ç†ä¸‰ä¸ƒ': {top: 6, fringe: 5, side: 1.5},
            'ä¸‰ä¸ƒä¾§åˆ†': {top: 5, fringe: 4, side: 1},

            // é¹…è›‹è„¸ (æ–°å¢/æ›´æ–°)
            'æ¸…çˆ½çŸ­ç¢ç›–': {top: 3, fringe: 2, side: 0.5},
            'ä¾§åˆ†çŸ­å‘': {top: 5, fringe: 4, side: 1.5}, 
            'å‡Œä¹±æŠ“åˆº': {top: 4, fringe: 3, side: 1},
            'å¾®åˆ†ç¢ç›–': {top: 7, fringe: 6, side: 2},
            'å¤å¤æ²¹å¤´': {top: 8, fringe: 7, side: 2},
            
            // å¿ƒå½¢è„¸ (æ–°å¢/æ›´æ–°)
            'çŸ­å¾®åˆ†å‰åˆº': {top: 4, fringe: 3, side: 1}, 
            'å‡Œä¹±å¾®åˆ†': {top: 5, fringe: 4, side: 1.5},
            'å‰åˆºè€è™å¤´': {top: 6, fringe: 5, side: 1.5},
            'é•¿å¾®åˆ†å‰åˆº': {top: 8, fringe: 7, side: 2}, 
            'éŸ©å¼å¾®åˆ†': {top: 7, fringe: 6, side: 2},
            
            // é•¿å½¢è„¸ (æ–°å¢/æ›´æ–°)
            'æ‹¬å·åˆ˜æµ·': {top: 8, fringe: 7, side: 2},
            'çº¹ç†ä¸‰ä¸ƒåˆ†': {top: 6, fringe: 5, side: 1.5},
            'é•¿çº¹ç†åˆ˜æµ·': {top: 9, fringe: 8, side: 2.5}, 
            'å››å…­å¾®åˆ†': {top: 7, fringe: 6, side: 2},
            
            // è±å½¢è„¸ (ä¿æŒä¸å˜)
            'ä¸­åˆ†å¾®å·': {top: 7, fringe: 8, side: 3},
            'è“¬æ¾ç¢ç›–': {top: 5, fringe: 4, side: 1},
            'ä¸¤è¾¹é“²é•¿åˆ˜æµ·': {top: 7, fringe: 6, side: 1},
            'éŸ©å¼çº¹ç†çƒ«': {top: 6, fringe: 5, side: 2},
        };

        /**
         * å‘å‹å›¾ç‰‡æ–‡ä»¶åæ˜ å°„ (ç”¨äºæ„å»º URL)
         * !!! é‡ç‚¹ï¼šå›¾ç‰‡è·¯å¾„é»˜è®¤ä¸º style_images/ æ–‡ä»¶å¤¹å‰ç¼€ !!!
         */
        const styleImageMap = {
            // åœ†è„¸
            'åŸºç¡€å‰åˆº': 'changjichu_qianci.png', 
            'å¾®åˆ†å‰åˆº': 'weifen_qianci.png',
            'çº¹ç†ä¾§èƒŒ': 'wenli_cebei.png',
            'éŸ©å¼å°å¹³å¤´': 'hanshi_xiaopingtou.png',
            'ç«‹ä½“å‰åˆº': 'liti_qianci.png',
            
            // æ–¹å½¢è„¸
            'ä¸ƒæŠ“åˆº': 'qi_zhuaci.png',
            'çŸ­ä¸‰ä¸ƒä¾§èƒŒ': 'duan_sanqi_cebei.png', 
            'ä¸‰ä¸ƒä¾§èƒŒ': 'chang_sanqi_cebei.png', 
            'ç¾å¼å‰åˆº': 'meishi_qianci.png',
            'é¾™é¡»èƒŒå¤´': 'longxu_beitou.png',
            'çº¹ç†ä¸‰ä¸ƒ': 'wenli_sanqi.png',
            'ä¸‰ä¸ƒä¾§åˆ†': 'sanqi_cefen.png',

            // é¹…è›‹è„¸
            'æ¸…çˆ½çŸ­ç¢ç›–': 'qingshuang_duan_suigai.png',
            'ä¾§åˆ†çŸ­å‘': 'cefen_duanfa.png', 
            'å‡Œä¹±æŠ“åˆº': 'lingluan_zhuaci.png',
            'å¾®åˆ†ç¢ç›–': 'weifen_suigai.png',
            'å¤å¤æ²¹å¤´': 'fugu_youtou.png',

            // å¿ƒå½¢è„¸
            'çŸ­å¾®åˆ†å‰åˆº': 'duan_weifen_qianci.png', 
            'å‡Œä¹±å¾®åˆ†': 'lingluan_weifen.png', 
            'å‰åˆºè€è™å¤´': 'qianci_laohutou.png', 
            'é•¿å¾®åˆ†å‰åˆº': 'chang_weifen_qianci.png', 
            'éŸ©å¼å¾®åˆ†': 'hanshi_weifen.png',

            // é•¿å½¢è„¸
            'æ‹¬å·åˆ˜æµ·': 'kuohao_liuhai.png',
            'çº¹ç†ä¸‰ä¸ƒåˆ†': 'wenli_sanqifen.png',
            'é•¿çº¹ç†åˆ˜æµ·': 'chang_wenli_liuhai.png', 
            'å››å…­å¾®åˆ†': 'siliu_weifen.png',

            // è±å½¢è„¸
            'ä¸­åˆ†å¾®å·': 'zhongfen_weijuan.png',
            'è“¬æ¾ç¢ç›–': 'pengsong_suigai.png',
            'ä¸¤è¾¹é“²é•¿åˆ˜æµ·': 'liangbian_chan_chang_liuhai.png',
            'éŸ©å¼çº¹ç†çƒ«': 'hanshi_wenli_tang.png',
        };


        /**
         * å½“å‰å¤´å‘é•¿åº¦é€‰é¡¹åŠå¯¹åº”çš„å¹³å‡é•¿åº¦ï¼ˆå˜ç±³ï¼‰
         */
        const lengthOptions = {
            'æçŸ­ (0.5-1cm)': 0.75,
            'çŸ­ (1.5-2.5cm)': 2.0,
            'ä¸­çŸ­ (3-4cm)': 3.5,
            'ä¸­é•¿ (4.5-5.5cm)': 5.0,
            'é•¿ (6-7.5cm)': 6.75,
            'è¶…é•¿ (8+cm)': 8.0, 
        };

        // æ¯æœˆå¹³å‡ç”Ÿé•¿é€Ÿåº¦ (å˜ç±³/æœˆ)
        const GROWTH_RATE_CM_MONTH = 1.5;

        // --- åº”ç”¨ç¨‹åºçŠ¶æ€ ---
        let selectedFaceShape = null;
        let selectedTargetStyle = null;
        let currentLengths = {
            top: null,
            fringe: null,
            side: null
        };


        // --- DOM å…ƒç´ å¼•ç”¨ ---
        const $faceSelection = document.getElementById('face-shape-selection');
        const $analysisSection = document.getElementById('hair-analysis-section');
        const $styleCardsContainer = document.getElementById('style-cards-container'); 
        const $stylePlaceholder = document.getElementById('style-placeholder'); 
        const $currentLengthTop = document.getElementById('current-length-top');
        const $currentLengthFringe = document.getElementById('current-length-fringe');
        const $currentLengthSide = document.getElementById('current-length-side');
        const $lengthCalcSection = document.getElementById('length-calculation-section');
        const $growthResultCard = document.getElementById('growth-result-card');
        const $growthTimeDisplay = document.getElementById('growth-time-display');
        const $communicationOutput = document.getElementById('communication-output');
        const $barberScript = document.getElementById('barber-script');


        // --- æ ¸å¿ƒåŠŸèƒ½å‡½æ•° ---

        /**
         * æ¸²æŸ“è„¸å‹é€‰æ‹©æŒ‰é’®
         */
        function renderFaceShapeButtons() {
            $faceSelection.innerHTML = Object.entries(faceData).map(([key, data]) => `
                <button data-shape="${key}" class="face-shape-btn p-3 bg-white text-gray-700 border-2 border-gray-300 rounded-lg shadow-sm hover:bg-indigo-100 transition duration-150 font-semibold text-sm flex flex-col items-center justify-center text-center space-y-2" onclick="selectFaceShape('${key}')">
                    <!-- æ³¨æ„ï¼šè¿™é‡Œçš„è·¯å¾„ä½¿ç”¨äº† data.img ä¸­å®šä¹‰çš„ assets/ å‰ç¼€ -->
                    <img src="${data.img}" alt="${data.name}è„¸" class="w-12 h-12 object-contain rounded-full border border-gray-200" onerror="this.onerror=null; this.src='https://placehold.co/48x48/f0f4f8/8b5cf6?text=${data.name[0]}'">
                    <span>${data.name}</span>
                </button>
            `).join('');
        }

        /**
         * æ¸²æŸ“å½“å‰å¤´å‘é•¿åº¦é€‰é¡¹
         */
        function renderCurrentLengthOptions() {
            let optionsHtml = '<option value="">è¯·é€‰æ‹©</option>';
            optionsHtml += Object.entries(lengthOptions).map(([label, lengthCm]) => `
                <option value="${lengthCm}">${label}</option>
            `).join('');
            $currentLengthTop.innerHTML = optionsHtml;
            $currentLengthFringe.innerHTML = optionsHtml;
            $currentLengthSide.innerHTML = optionsHtml;
        }

        /**
         * æ¸²æŸ“ç›®æ ‡å‘å‹å¡ç‰‡åˆ—è¡¨
         * @param {string[]} styles - è¯¥è„¸å‹æ¨èçš„æ‰€æœ‰å‘å‹åç§°
         */
        function renderStyleCards(styles) {
            $styleCardsContainer.innerHTML = ''; // æ¸…ç©ºå®¹å™¨
            $stylePlaceholder.classList.add('hidden');

            const cardsHtml = styles.map(style => {
                const len = styleLengthMap[style];
                // ç¡®ä¿ä½¿ç”¨ styleImageMap æä¾›çš„æ–‡ä»¶å
                const fileName = styleImageMap[style] || 'placeholder.png'; 
                const lenText = len ? `é¡¶: ${len.top}cm | åˆ˜: ${len.fringe || '?'}cm` : 'é•¿åº¦ä¿¡æ¯ç¼ºå¤±';
                
                return `
                    <div data-style="${style}" onclick="selectTargetStyle('${style}')" class="style-card rounded-xl p-2 flex flex-col overflow-hidden hover:shadow-xl hover:bg-gray-50">
                        <div class="h-32 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center mb-2">
                            <!-- æ³¨æ„ï¼šè¿™é‡Œçš„å›¾ç‰‡è·¯å¾„æ˜¯ style_images/ -->
                            <img src="style_images/${fileName}" alt="${style}å‘å‹é¢„è§ˆå›¾" class="w-full h-full object-cover" onerror="this.onerror=null; this.src='https://placehold.co/150x128/9CA3AF/ffffff?text=${style}';">
                        </div>
                        <h5 class="text-base font-bold text-gray-800 truncate">${style}</h5>
                        <p class="text-xs text-gray-500 mt-1">${lenText}</p>
                    </div>
                `;
            }).join('');
            
            $styleCardsContainer.innerHTML = cardsHtml;
            
            // é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªå‘å‹
            if (styles.length > 0) {
                 selectTargetStyle(styles[0]);
            }
        }

        /**
         * å¤„ç†è„¸å‹é€‰æ‹©
         * @param {string} shapeKey - é€‰ä¸­çš„è„¸å‹é”®
         */
        window.selectFaceShape = function(shapeKey) {
            selectedFaceShape = shapeKey;
            const data = faceData[shapeKey];
            selectedTargetStyle = null; // é‡ç½®ç›®æ ‡å‘å‹

            // 1. æ›´æ–°æŒ‰é’®è§†è§‰çŠ¶æ€
            document.querySelectorAll('.face-shape-btn').forEach(btn => {
                if (btn.dataset.shape === shapeKey) {
                    btn.classList.add('selected');
                } else {
                    btn.classList.remove('selected');
                }
            });

            // 2. æ›´æ–°è„¸å‹åˆ†æå¡ç‰‡å†…å®¹
            document.getElementById('analysis-title').textContent = `${data.name}ï¼š${data.name === 'é¹…è›‹è„¸' ? 'å‘å‹ä»»ä½ é€‰!' : data.name === 'æ–¹å½¢è„¸' ? 'è¯·æ‹’ç»åšé‡!' : data.name === 'åœ†è„¸' ? 'å¤§æ–¹éœ²é¢å¤´!' : data.name === 'å¿ƒå½¢è„¸' ? 'æå®šæµç•…åº¦!' : data.name === 'é•¿å½¢è„¸' ? 'åˆ˜æµ·çš„ç¥!' : data.name === 'è±å½¢è„¸' ? 'æŸ”åŒ–æ£±è§’ï¼Œå¹³è¡¡ä¹‹ç¾ï¼' : ''}`;
            document.getElementById('analysis-features').textContent = data.features;
            document.getElementById('analysis-pros').textContent = data.pros;
            document.getElementById('analysis-cons').textContent = data.cons;
            document.getElementById('analysis-concept').textContent = data.concept;
            document.getElementById('analysis-advice').textContent = data.advice;
            document.getElementById('analysis-avoid').textContent = data.avoid;

            // 3. æ¸²æŸ“ç›®æ ‡å‘å‹å¡ç‰‡åˆ—è¡¨ï¼ˆå¹¶è‡ªåŠ¨é€‰ä¸­ç¬¬ä¸€ä¸ªï¼‰
            renderStyleCards(data.styles);

            // 4. æ˜¾ç¤ºåç»­æ­¥éª¤
            $analysisSection.classList.remove('hidden');
            $lengthCalcSection.classList.remove('hidden');
            $communicationOutput.classList.add('hidden'); // é»˜è®¤éšè—ï¼Œé€‰ä¸­å‘å‹åæ˜¾ç¤º
            $growthResultCard.classList.add('hidden');
            resetLengthInputs(); // é‡ç½®é•¿åº¦é€‰æ‹©
        }

        /**
         * å¤„ç†ç›®æ ‡å‘å‹é€‰æ‹©
         * @param {string} styleName - é€‰ä¸­çš„å‘å‹åç§°
         */
        window.selectTargetStyle = function(styleName) {
            selectedTargetStyle = styleName;

            // 1. æ›´æ–°å¡ç‰‡è§†è§‰çŠ¶æ€
            document.querySelectorAll('.style-card').forEach(card => {
                if (card.dataset.style === styleName) {
                    card.classList.add('selected');
                } else {
                    card.classList.remove('selected');
                }
            });

            // 2. å°è¯•è¿›è¡Œè®¡ç®—å’Œç”Ÿæˆæ–‡æ¡ˆ
            if (selectedTargetStyle) {
                $communicationOutput.classList.remove('hidden'); 
                calculateGrowthTime();
                generateBarberScript();
            }
        };

        /**
         * é‡ç½®æ‰€æœ‰é•¿åº¦é€‰æ‹©å™¨çš„å€¼
         */
        function resetLengthInputs() {
            $currentLengthTop.value = "";
            $currentLengthFringe.value = "";
            $currentLengthSide.value = "";
            currentLengths = { top: null, fringe: null, side: null };
            document.querySelectorAll('.length-select').forEach(select => select.classList.remove('selected'));
        }

        /**
         * ç›‘å¬å½“å‰é•¿åº¦é€‰æ‹©å˜åŒ– (ç»Ÿä¸€å¤„ç†)
         */
        document.querySelectorAll('.length-select').forEach(select => {
            select.onchange = function() {
                const part = this.id.replace('current-length-', '');
                currentLengths[part] = parseFloat(this.value) || null;

                // æ›´æ–°é€‰ä¸­çŠ¶æ€
                if (this.value) {
                    this.classList.add('selected');
                } else {
                    this.classList.remove('selected');
                }

                // åªè¦æœ‰ä»»ä½•é•¿åº¦å˜åŒ–ï¼Œå°±è‡ªåŠ¨é‡æ–°è®¡ç®—å’Œç”Ÿæˆæ–‡æ¡ˆ
                calculateGrowthTime();
                generateBarberScript();
            };
        });

        /**
         * è‡ªåŠ¨è®¡ç®—æ‰€éœ€ç”Ÿé•¿å‘¨æœŸ
         */
        window.calculateGrowthTime = function() {
            // åªæœ‰å½“ç›®æ ‡å‘å‹å’Œæ‰€æœ‰å½“å‰é•¿åº¦éƒ½é€‰æ‹©åæ‰è¿›è¡Œè®¡ç®—
            if (!selectedTargetStyle || currentLengths.top === null || currentLengths.fringe === null || currentLengths.side === null) {
                $growthResultCard.classList.add('hidden');
                return;
            }

            const targetLengths = styleLengthMap[selectedTargetStyle];
            if (!targetLengths) {
                $growthTimeDisplay.textContent = 'æ— æ³•è·å–ç›®æ ‡å‘å‹æ‰€éœ€é•¿åº¦ä¿¡æ¯ã€‚';
                $growthResultCard.classList.remove('hidden');
                return;
            }

            let maxTimeNeededMonths = 0;
            let partsNeedingGrowth = [];

            // æ£€æŸ¥é¡¶éƒ¨
            if (currentLengths.top < targetLengths.top) {
                const lengthNeeded = targetLengths.top - currentLengths.top;
                const time = lengthNeeded / GROWTH_RATE_CM_MONTH;
                if (time > maxTimeNeededMonths) maxTimeNeededMonths = time;
                partsNeedingGrowth.push(`é¡¶éƒ¨ (è¿˜éœ€${lengthNeeded.toFixed(1)}cm)`);
            }
            // æ£€æŸ¥åˆ˜æµ·
            if (currentLengths.fringe < (targetLengths.fringe || 0)) { // å¦‚æœåˆ˜æµ·ç›®æ ‡é•¿åº¦æœªå®šä¹‰ï¼Œè§†ä¸º0
                const lengthNeeded = (targetLengths.fringe || 0) - currentLengths.fringe;
                const time = lengthNeeded / GROWTH_RATE_CM_MONTH;
                if (time > maxTimeNeededMonths) maxTimeNeededMonths = time;
                partsNeedingGrowth.push(`åˆ˜æµ· (è¿˜éœ€${lengthNeeded.toFixed(1)}cm)`);
            }
            // æ£€æŸ¥ä¾§é¢
            if (currentLengths.side < targetLengths.side) {
                const lengthNeeded = targetLengths.side - currentLengths.side;
                const time = lengthNeeded / GROWTH_RATE_CM_MONTH;
                if (time > maxTimeNeededMonths) maxTimeNeededMonths = time;
                 partsNeedingGrowth.push(`ä¾§é¢ (è¿˜éœ€${lengthNeeded.toFixed(1)}cm)`);
            }


            let timeText;
            if (maxTimeNeededMonths <= 0) { // ç¡®ä¿è´Ÿå€¼æˆ–é›¶éƒ½è§†ä¸ºæ»¡è¶³
                timeText = 'ğŸ¥³ æ­å–œï¼å½“å‰é•¿åº¦å·²æ»¡è¶³ç›®æ ‡å‘å‹è¦æ±‚ï¼Œå¯ç›´æ¥ä¿®å‰ªï¼';
            } else {
                const timeNeededWeeks = maxTimeNeededMonths * 4.345;
                if (maxTimeNeededMonths < 1) {
                    timeText = `é¢„è®¡éœ€è¦ç”Ÿé•¿ ${Math.round(timeNeededWeeks)} å‘¨å·¦å³`;
                } else {
                    timeText = `é¢„è®¡éœ€è¦ç”Ÿé•¿ ${maxTimeNeededMonths.toFixed(1)} ä¸ªæœˆå·¦å³`;
                }
                timeText = `ä¸»è¦ç­‰å¾…éƒ¨ä½ï¼š${partsNeedingGrowth.join('ï¼Œ')}ã€‚${timeText}`;
            }

            $growthTimeDisplay.textContent = timeText;
            $growthResultCard.classList.remove('hidden');
        }

        /**
         * ç”Ÿæˆç»™ç†å‘å¸ˆçš„æ²Ÿé€šæ–‡æ¡ˆ
         */
        function generateBarberScript() {
            if (!selectedFaceShape || !selectedTargetStyle) {
                $barberScript.value = 'è¯·å…ˆé€‰æ‹©æ‚¨çš„è„¸å‹å’Œç›®æ ‡å‘å‹ã€‚';
                return;
            }

            const face = faceData[selectedFaceShape];
            const targetLengths = styleLengthMap[selectedTargetStyle] || {top:'?', fringe:'?', side:'?'};
            
            const currentTopLabel = $currentLengthTop.options[$currentLengthTop.selectedIndex]?.text || 'æœªé€‰æ‹©';
            const currentFringeLabel = $currentLengthFringe.options[$currentLengthFringe.selectedIndex]?.text || 'æœªé€‰æ‹©';
            const currentSideLabel = $currentLengthSide.options[$currentLengthSide.selectedIndex]?.text || 'æœªé€‰æ‹©';
            
            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰é•¿åº¦éƒ½å·²é€‰æ‹©ï¼Œå¦‚æœæ²¡æœ‰åˆ™æç¤º
            if (currentLengths.top === null || currentLengths.fringe === null || currentLengths.side === null) {
                $barberScript.value = 'è¯·å…ˆæµ‹é‡å¹¶é€‰æ‹©å½“å‰å¤´å‘çš„é¡¶éƒ¨ã€åˆ˜æµ·å’Œä¾§é¢é•¿åº¦ï¼Œä»¥ä¾¿ç”Ÿæˆç²¾ç¡®çš„ä¿®å‰ªæŒ‡ä»¤ã€‚';
                return;
            }

            const script = `
å°Šæ•¬çš„ç†å‘å¸ˆæ‚¨å¥½ï¼Œ
è¿™æ˜¯æˆ‘æƒ³è¦çš„å‘å‹æŒ‡ä»¤å¡ï¼Œè¯·æ‚¨å‚è€ƒï¼š

ã€æˆ‘çš„åŸºæœ¬ä¿¡æ¯ã€‘
- æˆ‘çš„è„¸å‹æ˜¯ï¼š${face.name}ï¼ˆ${face.features}ï¼‰
- è„¸å‹ä¸»è¦å‘å‹æ€è·¯ï¼š${face.concept}
- å»ºè®®å‘å‹åŒºåŸŸï¼š${face.advice}
- é¿é›·å‘å‹åŒºåŸŸï¼š${face.avoid}

ã€ç›®æ ‡å‘å‹è¦æ±‚ã€‘
- ç›®æ ‡å‘å‹åç§°ï¼š${selectedTargetStyle}
- ç›®æ ‡å‘å‹å¤§è‡´é•¿åº¦è¦æ±‚ï¼ˆä¿®å‰ªåï¼‰ï¼š
    - é¡¶éƒ¨é•¿åº¦ï¼šçº¦ ${targetLengths.top} cm (ä¿æŒé€ å‹æ‰€éœ€çš„è“¬æ¾å’Œæ”¯æ’‘åŠ›)
    - åˆ˜æµ·é•¿åº¦ï¼šçº¦ ${targetLengths.fringe || '?'} cm (æŒ‰éœ€ä¿®å‰ªæˆ–ä¿ç•™)
    - ä¾§é¢é•¿åº¦ï¼šçº¦ ${targetLengths.side} cm (è¯·ä¿æŒæ¸…çˆ½ã€å¹²å‡€)

ã€å½“å‰å¤´å‘æƒ…å†µï¼ˆä¾›å‚è€ƒï¼‰ã€‘
- é¡¶éƒ¨ç°æœ‰é•¿åº¦ï¼š${currentTopLabel}
- åˆ˜æµ·ç°æœ‰é•¿åº¦ï¼š${currentFringeLabel}
- ä¾§é¢ç°æœ‰é•¿åº¦ï¼š${currentSideLabel}

ã€å‰ªå‘é‡ç‚¹æé†’ã€‘
1. é¡¶éƒ¨ï¼šè¯·æ ¹æ®ç›®æ ‡é•¿åº¦ä¿®å‰ªï¼Œå¹¶åˆ©ç”¨${face.name}ç‰¹ç‚¹ï¼ˆ${face.cons}ï¼‰ï¼Œé€šè¿‡å‰ªè£å¢åŠ [è§†è§‰é¢…é¡¶]æˆ–[ä¸¤ä¾§å®½åº¦]ï¼Œè¾¾åˆ°${face.concept.replace(/\[|\]/g, '')}çš„æ•ˆæœã€‚
2. ä¾§é¢ï¼šè¯·å¹²å‡€åˆ©è½åœ°å¤„ç†ä¸¤ä¾§ï¼Œå»ºè®®ä½¿ç”¨${targetLengths.side <= 1 ? 'æ¨è¾¹ï¼ˆFadeï¼‰' : 'æ¸å˜æˆ–æ¸…çˆ½ä¿®å‰ª'}ã€‚
3. é€ å‹ï¼šè¯·ä½¿ç”¨é€‚åˆçš„å‘èœ¡/å‘æ³¥æˆ–å®šå‹å–·é›¾ï¼Œå¸®æˆ‘æ‰“é€ ${selectedTargetStyle}çš„æœ€ç»ˆé€ å‹ã€‚

è°¢è°¢æ‚¨çš„å¸®åŠ©ï¼
            `.trim();
            
            $barberScript.value = script;
        }

        /**
         * å¤åˆ¶æ²Ÿé€šæ–‡æ¡ˆåˆ°å‰ªè´´æ¿
         */
        window.copyToClipboard = function() {
            const copyTextarea = document.getElementById('barber-script');
            copyTextarea.select();
            copyTextarea.setSelectionRange(0, 99999); // å…¼å®¹ç§»åŠ¨è®¾å¤‡
            
            try {
                // ä½¿ç”¨ document.execCommand('copy') ä½œä¸º iframe å†…å¤åˆ¶çš„å¯é æ–¹æ³•
                const successful = document.execCommand('copy');
                const msg = document.getElementById('copy-message');
                const copyText = document.getElementById('copy-text');

                if (successful) {
                    msg.textContent = 'âœ… æŒ‡ä»¤å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼';
                    msg.classList.remove('hidden');
                    copyText.textContent = 'å·²å¤åˆ¶';
                    setTimeout(() => {
                        msg.classList.add('hidden');
                        copyText.textContent = 'å¤åˆ¶æŒ‡ä»¤';
                    }, 2000);
                } else {
                    msg.textContent = 'å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ã€‚';
                    msg.classList.remove('hidden');
                }
            } catch (err) {
                console.error('å¤åˆ¶å¤±è´¥: ', err);
                const msg = document.getElementById('copy-message');
                msg.textContent = 'å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ã€‚';
                msg.classList.remove('hidden');
            }
        };


        // --- åˆå§‹åŒ– ---
        window.onload = function() {
            renderFaceShapeButtons();
            renderCurrentLengthOptions();
        };

    </script>
</body>
</html>
